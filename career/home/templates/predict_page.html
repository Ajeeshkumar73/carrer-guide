{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
   <link rel="icon" href="{% static 'images/favicon-1.png' %}" sizes="256x256" type="image/png">
  <title>LearnLoop-AI career Assistant</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>

  <style>
    body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background:white; min-height:100vh; color:#333; }
    .hero { background: rgba(255,255,255,0.15); backdrop-filter: blur(12px); border-radius:18px; }
    .quiz-container { background: rgba(255,255,255,0.95); border-radius:5px; box-shadow:0 25px 70px rgba(0,0,0,0.25); transition: transform .3s; }
    .quiz-container:hover { transform: translateY(-4px); }
    .question { display:none; animation: fadeIn .6s ease; }
    .question.active { display:block; }
    .option { transition: all .3s; }
    .btn { background: black; color:white; padding:12px 24px; border-radius:10px; cursor:pointer; transition:all .3s; box-shadow:0 6px 18px rgba(0,0,0,0.25); }
    .btn:hover { transform: translateY(-3px) scale(1.03);  }
    #progress { transition: width .6s ease; }
    .result { display:none; animation: fadeIn 1s ease-in-out; }
    @keyframes fadeIn { from { opacity:0; transform: scale(.9)} to { opacity:1; transform: scale(1)} }
    .domain-card { cursor:pointer; transition: transform .18s, box-shadow .18s; }
    .domain-card:hover { transform: translateY(-6px); box-shadow:0 18px 40px rgba(0,0,0,0.2); }
    .details { display:none; }
    .details.show { display:block; animation: fadeIn .25s ease-in; }
    .other-list { background:#f7fafc; padding:12px; border-radius:8px; }
    .other-item { padding:8px; border-radius:6px; cursor:pointer; transition: background .15s; }
    .other-item:hover { background:#e8eef6; }
    .small-pct { font-weight:700; color:#374151; margin-left:8px; }
    input[type="radio"] {
  width: 25px;   /* default is ~16px */
  height: 25px;
  accent-color: black; /* optional: changes the fill color in modern browsers */
}
#close{
  margin-left:722;
  box-shadow:none;


}

  #close:hover {
  
    transform: scale(1.1);       /* slightly enlarge */
  }
  </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">
  <a href="{% url 'assistant' %}">
  <button id="close" style=" position: absolute;
  top: 80px;      /* distance from top */
  right: 80px;    /* distance from right */
  display: flex;
  align-items: center;
  justify-content: center;
  width: 70px;
  height: 70px;
  padding: 0;
  border-radius: 50%;
  background-color: white;
  border: none;
  cursor: pointer;">
  <!-- X SVG icon in white -->
  <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="black" viewBox="0 0 24 24">
    <path d="M18.3 5.71a1 1 0 0 0-1.41 0L12 10.59 7.11 5.7A1 1 0 0 0 5.7 7.11L10.59 12l-4.88 4.89a1 1 0 1 0 1.41 1.41L12 13.41l4.89 4.88a1 1 0 0 0 1.41-1.41L13.41 12l4.88-4.89a1 1 0 0 0 0-1.4z"/>
  </svg>
</button>
</a>
  <div class="w-full max-w-5xl">
    <div class="hero p-10 mb-8 text-center text-black">
      <h1 class="text-4xl md:text-5xl font-extrabold mb-4 drop-shadow-lg">Learn Loop</h1>
      <p class="text-lg md:text-xl opacity-90">LearnLoop's questionnaire helps students in 10th / +2 discover suitable career paths and courses.</p>
    </div>

    <div class="quiz-container p-8">
      <div id="intro" class="text-center">
        <h2 class="text-2xl font-bold text-gray-800 mb-4">Ready to Begin?</h2>
        <p class="text-gray-600 mb-6">Answer 10 quick questions — tailored for 10th, 11th and 12th students — and see your top career matches.</p>
        <button class="btn text-lg" onclick="startQuiz()">Start Quiz</button>
      </div>

      <div id="quiz-area" style="display:none;">
        <div class="flex justify-between items-center mb-6">
          <h3 class="text-xl font-semibold text-gray-800">Question <span id="question-number">1</span> of 10</h3>
          <div class="w-1/3 bg-gray-200 rounded-full h-2 overflow-hidden">
            <div id="progress" class="bg-gradient-to-r from-black to-black h-2 rounded-full" style="width:0%"></div>
          </div>
        </div>

        <div id="questions" class="mb-6">
          <!-- q1 -->
          <div class="question active" id="q1">
            <p class="text-lg text-gray-700 mb-4">What activities do you enjoy most?</p>
            <div class="space-y-3">
              <label class="option flex items-center p-4 bg-white rounded-lg border cursor-pointer"><input type="radio" name="q1" value="tech" class="mr-3">Working with computers or solving technical problems</label>
              <label class="option flex items-center p-4 bg-white rounded-lg border cursor-pointer"><input type="radio" name="q1" value="science" class="mr-3">Conducting experiments or researching subjects</label>
              <label class="option flex items-center p-4 bg-white rounded-lg border cursor-pointer"><input type="radio" name="q1" value="art" class="mr-3">Creating art, videos or expressing yourself creatively</label>
              <label class="option flex items-center p-4 bg-white rounded-lg border cursor-pointer"><input type="radio" name="q1" value="business" class="mr-3">Organizing activities or leading school projects</label>
            </div>
          </div>

          <!-- q2 -->
          <div class="question" id="q2">
            <p class="text-lg text-gray-700 mb-4">Which school subject is your favorite right now?</p>
            <div class="space-y-3">
              <label class="option flex items-center p-4 bg-white rounded-lg border cursor-pointer"><input type="radio" name="q2" value="tech" class="mr-3">Computer Science / Information Technology</label>
              <label class="option flex items-center p-4 bg-white rounded-lg border cursor-pointer"><input type="radio" name="q2" value="science" class="mr-3">Biology / Physics / Chemistry</label>
              <label class="option flex items-center p-4 bg-white rounded-lg border cursor-pointer"><input type="radio" name="q2" value="art" class="mr-3">Art, Music or Design</label>
              <label class="option flex items-center p-4 bg-white rounded-lg border cursor-pointer"><input type="radio" name="q2" value="business" class="mr-3">Economics, Accounts or Business studies</label>
            </div>
          </div>

          <!-- q3 -->
          <div class="question" id="q3">
            <p class="text-lg text-gray-700 mb-4">How do you prefer to study or work on school projects?</p>
            <div class="space-y-3">
              <label class="option flex items-center p-4 bg-white rounded-lg border cursor-pointer"><input type="radio" name="q3" value="human" class="mr-3">In groups and discussions (teamwork)</label>
              <label class="option flex items-center p-4 bg-white rounded-lg border cursor-pointer"><input type="radio" name="q3" value="tech" class="mr-3">Alone, solving problems or coding</label>
              <label class="option flex items-center p-4 bg-white rounded-lg border cursor-pointer"><input type="radio" name="q3" value="business" class="mr-3">Leading the group and organizing tasks</label>
              <label class="option flex items-center p-4 bg-white rounded-lg border cursor-pointer"><input type="radio" name="q3" value="art" class="mr-3">Collaborating on creative projects</label>
            </div>
          </div>

          <!-- q4 -->
          <div class="question" id="q4">
            <p class="text-lg text-gray-700 mb-4">What motivates you most when choosing subjects or activities?</p>
            <div class="space-y-3">
              <label class="option flex items-center p-4 bg-white rounded-lg border cursor-pointer"><input type="radio" name="q4" value="tech" class="mr-3">Solving problems and building things</label>
              <label class="option flex items-center p-4 bg-white rounded-lg border cursor-pointer"><input type="radio" name="q4" value="health" class="mr-3">Helping people or learning about health</label>
              <label class="option flex items-center p-4 bg-white rounded-lg border cursor-pointer"><input type="radio" name="q4" value="business" class="mr-3">Preparing for a stable/lucrative career</label>
              <label class="option flex items-center p-4 bg-white rounded-lg border cursor-pointer"><input type="radio" name="q4" value="art" class="mr-3">Expressing creativity and making things beautiful</label>
            </div>
          </div>

          <!-- q5 -->
          <div class="question" id="q5">
            <p class="text-lg text-gray-700 mb-4">Which study environment suits you best?</p>
            <div class="space-y-3">
              <label class="option flex items-center p-4 bg-white rounded-lg border cursor-pointer"><input type="radio" name="q5" value="science" class="mr-3">Lab or hands-on experiments</label>
              <label class="option flex items-center p-4 bg-white rounded-lg border cursor-pointer"><input type="radio" name="q5" value="tech" class="mr-3">Computer lab or coding environment</label>
              <label class="option flex items-center p-4 bg-white rounded-lg border cursor-pointer"><input type="radio" name="q5" value="art" class="mr-3">Studio or creative space</label>
              <label class="option flex items-center p-4 bg-white rounded-lg border cursor-pointer"><input type="radio" name="q5" value="business" class="mr-3">Classroom with presentations and discussions</label>
            </div>
          </div>

          <!-- q6 -->
          <div class="question" id="q6">
            <p class="text-lg text-gray-700 mb-4">How do you usually handle exam or study stress?</p>
            <div class="space-y-3">
              <label class="option flex items-center p-4 bg-white rounded-lg border cursor-pointer"><input type="radio" name="q6" value="human" class="mr-3">Talking to friends/teachers and getting support</label>
              <label class="option flex items-center p-4 bg-white rounded-lg border cursor-pointer"><input type="radio" name="q6" value="science" class="mr-3">Making a study plan and analysing topics</label>
              <label class="option flex items-center p-4 bg-white rounded-lg border cursor-pointer"><input type="radio" name="q6" value="art" class="mr-3">Using creative breaks or hobbies to relax</label>
              <label class="option flex items-center p-4 bg-white rounded-lg border cursor-pointer"><input type="radio" name="q6" value="business" class="mr-3">Organizing time and tasks strictly</label>
            </div>
          </div>

          <!-- q7: CURRENT CLASS (new) -->
          <div class="question" id="q7">
            <p class="text-lg text-gray-700 mb-4">Which class are you currently studying?</p>
            <div class="space-y-3">
              <label class="option flex items-center p-4 bg-white rounded-lg border cursor-pointer"><input type="radio" name="q7" value="10" class="mr-3">10th Grade</label>
              <label class="option flex items-center p-4 bg-white rounded-lg border cursor-pointer"><input type="radio" name="q7" value="11" class="mr-3">11th Grade (+1)</label>
              <label class="option flex items-center p-4 bg-white rounded-lg border cursor-pointer"><input type="radio" name="q7" value="12" class="mr-3">12th Grade (+2)</label>
              <label class="option flex items-center p-4 bg-white rounded-lg border cursor-pointer"><input type="radio" name="q7" value="other" class="mr-3">Other</label>
            </div>
          </div>

          <!-- q8 -->
          <div class="question" id="q8">
            <p class="text-lg text-gray-700 mb-4">Which skill do you value most for your future studies/career?</p>
            <div class="space-y-3">
              <label class="option flex items-center p-4 bg-white rounded-lg border cursor-pointer"><input type="radio" name="q8" value="tech" class="mr-3">Technical skills (coding, lab work)</label>
              <label class="option flex items-center p-4 bg-white rounded-lg border cursor-pointer"><input type="radio" name="q8" value="business" class="mr-3">Leadership, communication or management</label>
              <label class="option flex items-center p-4 bg-white rounded-lg border cursor-pointer"><input type="radio" name="q8" value="art" class="mr-3">Creativity and design</label>
              <label class="option flex items-center p-4 bg-white rounded-lg border cursor-pointer"><input type="radio" name="q8" value="human" class="mr-3">Empathy and teaching/mentoring</label>
            </div>
          </div>

          <!-- q9 -->
          <div class="question" id="q9">
            <p class="text-lg text-gray-700 mb-4">What excites you most about learning?</p>
            <div class="space-y-3">
              <label class="option flex items-center p-4 bg-white rounded-lg border cursor-pointer"><input type="radio" name="q9" value="science" class="mr-3">Discovering and understanding concepts deeply</label>
              <label class="option flex items-center p-4 bg-white rounded-lg border cursor-pointer"><input type="radio" name="q9" value="tech" class="mr-3">Building projects or using new technologies</label>
              <label class="option flex items-center p-4 bg-white rounded-lg border cursor-pointer"><input type="radio" name="q9" value="art" class="mr-3">Creating original work or expressive pieces</label>
              <label class="option flex items-center p-4 bg-white rounded-lg border cursor-pointer"><input type="radio" name="q9" value="health" class="mr-3">Learning how to help people and communities</label>
            </div>
          </div>

          <!-- q10 -->
          <div class="question" id="q10">
            <p class="text-lg text-gray-700 mb-4">How do you prefer to learn new topics?</p>
            <div class="space-y-3">
              <label class="option flex items-center p-4 bg-white rounded-lg border cursor-pointer"><input type="radio" name="q10" value="business" class="mr-3">Structured study plans and practice tests</label>
              <label class="option flex items-center p-4 bg-white rounded-lg border cursor-pointer"><input type="radio" name="q10" value="tech" class="mr-3">Experimenting and hands-on projects</label>
              <label class="option flex items-center p-4 bg-white rounded-lg border cursor-pointer"><input type="radio" name="q10" value="science" class="mr-3">Researching and analyzing material deeply</label>
              <label class="option flex items-center p-4 bg-white rounded-lg border cursor-pointer"><input type="radio" name="q10" value="art" class="mr-3">Exploring creatively and iterating on work</label>
            </div>
          </div>
        </div>

        <div class="flex justify-between">
          <button id="prev-btn" class="btn" onclick="prevQuestion()" style="display:none">Previous</button>
          <button id="next-btn" class="btn" onclick="nextQuestion()">Next</button>
          <button id="submit-btn" class="btn" onclick="calculateResult()" style="display:none">Submit</button>
        </div>
      </div>

      <div>

      <!-- RESULTS -->
      <div id="result" class="result mt-6">
        <h3 class="text-3xl font-bold text-gray-800 mb-2">Top Career Matches</h3>
        <p class="text-gray-600 mb-4">Below are your top 3 matches. See other suggestions underneath. Click to know more details.</p>

        <div id="cards" class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4"></div>

        <!--<div style="text-align:center; margin-bottom:8px;">
          <button id="toggle-others" class="btn" onclick="toggleOthers()" style="display:none;">Show all</button>
        </div>-->

        <div id="other-container" class="other-list mb-4" style="display:none;">
          <!-- compact list of other domains -->
          <div id="other-list" class="space-y-2"></div>
        </div>

        <div id="detail-panel" class="bg-white p-6 rounded-lg shadow details">
<button id="close-detail" class="btn mb-4" onclick="closeDetails()" style="display:flex; align-items:center; justify-content:center; width:40px; height:40px; padding:0; border-radius:50%; background-color:white;">
  <!-- X SVG icon in white -->
  <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="black" viewBox="0 0 24 24">
    <path d="M18.3 5.71a1 1 0 0 0-1.41 0L12 10.59 7.11 5.7A1 1 0 0 0 5.7 7.11L10.59 12l-4.88 4.89a1 1 0 1 0 1.41 1.41L12 13.41l4.89 4.88a1 1 0 0 0 1.41-1.41L13.41 12l4.88-4.89a1 1 0 0 0 0-1.4z"/>
  </svg>
</button>

          <h4 id="detail-title" class="text-2xl font-semibold text-gray-800 mb-2"></h4>
          <p id="detail-desc" class="text-gray-700 mb-3"></p>
          <h5 class="font-semibold">Common roles</h5>
          <ul id="detail-roles" class="list-disc list-inside text-gray-700 mb-3"></ul>
          <h5 class="font-semibold">Suggested skills / learning</h5>
          <ul id="detail-skills" class="list-disc list-inside text-gray-700"></ul>
        </div>

        <div class="mt-6">
          <button class="btn" onclick="resetQuiz()" style="display:flex; align-items:center; gap:5px;">
  <!-- Refresh SVG icon in white -->
  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="white" viewBox="0 0 24 24">
    <path d="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6s-2.69 6-6 6c-2.64 0-4.88-1.69-5.66-4H5.07c.79 3.93 4.31 7 8.93 7 4.97 0 9-4.03 9-9s-4.03-9-9-9z"/>
  </svg>
  Take Again
</button>
<div style="text-align:center; margin-top:20px;">
  <p style="margin-bottom:10px;">Choose your interested Career domain, Ask doubt to LearnLoop AI Voice Assistant</p>

  <!-- Try Learnloop Button with Mic SVG -->
   <a href="{% url 'assistant' %}">
  <button class="btn" style="display:inline-flex; align-items:center; justify-content:center; gap:5px; padding:8px 16px; background-color:black; color:white; border:none; border-radius:5px; cursor:pointer;">
    <!-- Mic SVG -->
    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="white" viewBox="0 0 24 24">
      <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3s-3 1.34-3 3v6c0 1.66 1.34 3 3 3zm4.3-3c0 2.48-1.95 4.5-4.3 4.5S7.7 13.48 7.7 11H6c0 3.03 2.46 5.5 5.5 5.5V22h1v-5.5C15.54 16.5 18 14.03 18 11h-1.7z"/>
    </svg>
    Try Learnloop
  </button>
</a>
</div>
</div>
      </div>
    </div>
  </div>

<script>
  /* --- navigation --- */
  let currentQuestionIndex = 0;
  const questions = document.querySelectorAll('.question');
  const totalQuestions = questions.length;

  function startQuiz() {
    document.getElementById('intro').style.display = 'none';
    document.getElementById('quiz-area').style.display = 'block';
    questions[0].classList.add('active');
    document.getElementById('next-btn').style.display = 'block';
    updateProgress();
    updateButtons();
  }
  function nextQuestion() {
    if (currentQuestionIndex < totalQuestions - 1) {
      questions[currentQuestionIndex].classList.remove('active');
      currentQuestionIndex++;
      questions[currentQuestionIndex].classList.add('active');
      updateProgress(); updateButtons();
    }
  }
  function prevQuestion() {
    if (currentQuestionIndex > 0) {
      questions[currentQuestionIndex].classList.remove('active');
      currentQuestionIndex--;
      questions[currentQuestionIndex].classList.add('active');
      updateProgress(); updateButtons();
    }
  }
  function updateProgress() {
    const progress = ((currentQuestionIndex + 1) / totalQuestions) * 100;
    document.getElementById('progress').style.width = progress + '%';
    document.getElementById('question-number').textContent = currentQuestionIndex + 1;
  }
  function updateButtons() {
    document.getElementById('prev-btn').style.display = currentQuestionIndex > 0 ? 'block' : 'none';
    if (currentQuestionIndex === totalQuestions - 1) {
      document.getElementById('next-btn').style.display = 'none';
      document.getElementById('submit-btn').style.display = 'block';
    } else {
      document.getElementById('next-btn').style.display = 'block';
      document.getElementById('submit-btn').style.display = 'none';
    }
  }

  /* --- rule-based predictor (same logic as before, q7 is the current-class question and doesn't affect domain scores) --- */
  function collectAnswers() {
    const answers = {};
    document.querySelectorAll('input[type="radio"]:checked').forEach(radio => { answers[radio.name] = radio.value; });
    return answers;
  }

  function getDomainScores(answers) {
    const scores = {
      "Technology & Programming": 0,
      "Research & Science": 0,
      "Creative Arts & Design": 0,
      "Business & Management": 0,
      "Healthcare & Wellness": 0,
      "Human Resources & Education": 0
    };
    const add = (d, p) => { scores[d] = (scores[d]||0) + p; };

    if (answers.q1 === 'tech') add("Technology & Programming", 3);
    if (answers.q1 === 'science') add("Research & Science", 3);
    if (answers.q1 === 'art') add("Creative Arts & Design", 3);
    if (answers.q1 === 'business') add("Business & Management", 3);

    if (answers.q2 === 'tech') add("Technology & Programming", 2);
    if (answers.q2 === 'health') add("Healthcare & Wellness", 2);
    if (answers.q2 === 'art') add("Creative Arts & Design", 2);
    if (answers.q2 === 'business') add("Business & Management", 2);

    if (answers.q3 === 'human') { add("Human Resources & Education", 2); add("Healthcare & Wellness", 1); }
    if (answers.q3 === 'tech') add("Technology & Programming", 1);
    if (answers.q3 === 'business') add("Business & Management", 2);
    if (answers.q3 === 'art') add("Creative Arts & Design", 1);

    if (answers.q4 === 'tech') add("Technology & Programming", 2);
    if (answers.q4 === 'health') add("Healthcare & Wellness", 3);
    if (answers.q4 === 'business') add("Business & Management", 3);
    if (answers.q4 === 'art') add("Creative Arts & Design", 2);

    if (answers.q5 === 'science') add("Research & Science", 2);
    if (answers.q5 === 'tech') add("Technology & Programming", 2);
    if (answers.q5 === 'art') add("Creative Arts & Design", 2);
    if (answers.q5 === 'business') add("Business & Management", 1);

    if (answers.q6 === 'human') { add("Healthcare & Wellness", 1); add("Human Resources & Education", 1); }
    if (answers.q6 === 'science') add("Research & Science", 1);
    if (answers.q6 === 'art') add("Creative Arts & Design", 1);
    if (answers.q6 === 'business') add("Business & Management", 1);

    // q7 is current class; intentionally not used to score domains (but can be used later server-side)

    if (answers.q8 === 'tech') add("Technology & Programming", 2);
    if (answers.q8 === 'business') add("Business & Management", 2);
    if (answers.q8 === 'art') add("Creative Arts & Design", 2);
    if (answers.q8 === 'human') add("Human Resources & Education", 2);

    if (answers.q9 === 'science') add("Research & Science", 2);
    if (answers.q9 === 'tech') add("Technology & Programming", 2);
    if (answers.q9 === 'art') add("Creative Arts & Design", 2);
    if (answers.q9 === 'health') add("Healthcare & Wellness", 2);

    if (answers.q10 === 'business') add("Business & Management", 1);
    if (answers.q10 === 'tech') add("Technology & Programming", 2);
    if (answers.q10 === 'science') add("Research & Science", 2);
    if (answers.q10 === 'art') add("Creative Arts & Design", 1);

    if ((answers.q1 === 'tech' || answers.q2 === 'tech') && answers.q8 === 'tech') add("Technology & Programming", 1);
    if (answers.q4 === 'health' && answers.q6 === 'human') add("Healthcare & Wellness", 1);
    if (answers.q1 === 'art' && answers.q8 === 'art') add("Creative Arts & Design", 1);

    const entries = Object.entries(scores);
    const total = entries.reduce((s,[k,v]) => s+v, 0) || 1;
    const mapped = entries.map(([k,v]) => ({ domain:k, score: v, pct: Math.round((v/total)*100) }));
    mapped.sort((a,b) => b.score - a.score);
    return mapped;
  }

  /* --- domain metadata (unchanged) --- */
const DOMAIN_INFO = {
  "Technology & Programming": {
    desc: "Technology & Programming careers involve designing, building, testing, and maintaining software systems, applications, and networks. Professionals solve complex technical problems, work with data, optimize algorithms, and create scalable digital solutions. Roles often require logical thinking, continuous learning to keep up with evolving technologies, collaboration in agile teams, and a strong attention to detail. Work environments range from tech startups to corporate IT departments, often including remote work or flexible schedules.",
    roles: ["Software Engineer","Data Analyst / Data Scientist","DevOps Engineer","Cybersecurity Analyst","Frontend / Backend Developer"],
    skills: ["Programming (Python/JS/Java)","Data structures & algorithms","Databases","Version control","Cloud fundamentals"],
    education: "Bachelor's in Computer Science / IT / Engineering or equivalent bootcamp/certifications; many roles accept strong self-taught portfolios.",
    salary: "Entry: ~$15k–35k, Mid: ~$35k–90k, Senior: ~$90k+ (USD, varies heavily by country & role).",
    growth: "High demand — cloud, AI/ML, security and data roles continue strong growth.",
    tools: ["Git/GitHub","VS Code","Docker/Kubernetes","AWS/GCP/Azure","SQL / Pandas / Jupyter"],
    hiring_keywords: ["software engineer","full stack","data scientist","devops","cloud engineer","backend developer","frontend developer"],
    sample_courses: [
      "CS50 Introduction to Computer Science (edX)",
      "Python for Everybody (Coursera)",
      "Machine Learning by Andrew Ng (Coursera)",
      "The Complete Web Developer Bootcamp (Udemy)"
    ],
    day_in_life: [
      "Morning standup with team, review tickets and priorities.",
      "Implementing features, writing tests and fixing bugs.",
      "Code reviews and collaborating on architecture decisions.",
      "Deploying or monitoring services; investigating incidents."
    ]
  },

  "Research & Science": {
    desc: "Research & Science careers focus on discovering new knowledge, solving real-world problems, and advancing human understanding in various domains such as biology, chemistry, physics, or social sciences. Professionals design experiments, collect and analyze data, and interpret results to contribute to scientific literature or practical applications. Analytical thinking, curiosity, precision, and patience are crucial. Work environments include labs, universities, R&D centers, or field research locations. Projects often impact society, industry, and technological innovation.",
    roles: ["Research Scientist","Lab Technician","Clinical Researcher","Biostatistician","Research Assistant"],
    skills: ["Scientific method","Statistics & analysis","Lab techniques","Critical thinking","Academic writing"],
    education: "Often requires MSc or PhD for research scientist roles; many lab and technician roles accept BSc plus lab experience.",
    salary: "Entry: ~$20k–40k, Mid: ~$40k–80k, Senior/Research Lead: ~$80k+ (USD, sector-dependent).",
    growth: "Moderate — steady demand in biotech, pharma, environmental science, and data-driven research.",
    tools: ["R / Python (pandas, scipy)","Lab instruments (PCR, HPLC etc.)","Statistical packages","Scientific literature databases"],
    hiring_keywords: ["research scientist","lab technician","biostatistician","clinical research associate","R&D scientist"],
    sample_courses: [
      "Introduction to Biostatistics (Coursera/edX)",
      "Data Analysis with Python (Coursera)",
      "Laboratory Techniques (university extension courses)"
    ],
    day_in_life: [
      "Designing or repeating experiments, collecting data.",
      "Data cleaning, statistical analysis and plotting.",
      "Writing reports, lab meetings and literature review.",
      "Maintaining lab records and ensuring protocols are followed."
    ]
  },

  "Creative Arts & Design": {
    desc: "Creative Arts & Design careers involve producing visually compelling and imaginative content across mediums such as digital graphics, video, animation, fine arts, media, and design. Professionals generate concepts, visualize ideas, communicate stories, and engage audiences through creative expression. These roles require originality, visual communication skills, technical expertise in design software, and the ability to collaborate with clients or teams. Work environments may include studios, agencies, media houses, or freelancing, often requiring flexibility and self-motivation.",
    roles: ["Graphic Designer","UX/UI Designer","Illustrator","Animator","Content Creator"],
    skills: ["Visual design","Adobe/Figma","Storytelling","Portfolio building","Creative concepting"],
    education: "Degrees in Design/Arts helpful but portfolios and practical experience are key; short courses and bootcamps for UX/UI are common.",
    salary: "Entry: ~$12k–30k, Mid: ~$30k–60k, Senior/Lead/Creative Director: ~$60k+ (USD; wide variation by freelancing vs agency vs product).",
    growth: "Healthy — digital product design and content creation are in demand; freelance opportunities plentiful.",
    tools: ["Figma / Sketch / Adobe CC","Procreate","Blender (for 3D)","After Effects","CMS platforms"],
    hiring_keywords: ["ui designer","ux designer","graphic designer","visual designer","illustrator","motion designer"],
    sample_courses: [
      "UI / UX Design Specialization (Coursera)",
      "Graphic Design Bootcamp (Udemy)",
      "Interaction Design Foundation courses"
    ],
    day_in_life: [
      "Sketching concepts, wireframing and visual design iterations.",
      "User research or reviewing user feedback for UX roles.",
      "Preparing assets for engineers or publishing content.",
      "Client meetings or cross-functional collaboration with product/marketing."
    ]
  },

  "Business & Management": {
    desc: "Business & Management careers encompass leadership, strategy, operations, finance, marketing, and entrepreneurship. Professionals plan, organize, analyze data, manage teams, and make decisions to drive organizational success. These roles demand analytical thinking, communication, problem-solving, and a results-oriented mindset. Work environments vary from corporate offices, startups, consultancy, or entrepreneurial ventures. Impact includes optimizing processes, improving business performance, and shaping strategic initiatives that affect stakeholders and markets.",
    roles: ["Product Manager","Business Analyst","Marketing Manager","Accountant","Entrepreneur"],
    skills: ["Communication","Business acumen","Project management","Excel & analytics","Negotiation"],
    education: "Bachelors in Business/Economics/Management common; MBAs can accelerate senior leadership roles but not strictly required for many positions.",
    salary: "Entry: ~$18k–35k, Mid: ~$35k–80k, Senior: ~$80k+ (USD; differs by industry & region).",
    growth: "Stable to strong — product, data-driven marketing and operations roles growing rapidly.",
    tools: ["Excel / Google Sheets","Power BI / Tableau","JIRA / Confluence","SQL","Google Analytics"],
    hiring_keywords: ["product manager","business analyst","marketing manager","operations manager","project manager"],
    sample_courses: [
      "Business Analytics (Coursera)",
      "Product Management (Udemy / Coursera)",
      "Digital Marketing Specialization (Coursera)"
    ],
    day_in_life: [
      "Setting priorities, defining success metrics and roadmaps.",
      "Analyzing data to inform decisions or prepare reports.",
      "Coordinating cross-functional teams (engineering/marketing/sales).",
      "Stakeholder meetings and status updates."
    ]
  },

  "Healthcare & Wellness": {
    desc: "Healthcare & Wellness careers involve providing clinical care, promoting well-being, and improving quality of life for individuals and communities. Professionals assess, diagnose, treat, and guide patients or clients, working in hospitals, clinics, wellness centers, or public health programs. Key qualities include empathy, patience, attention to detail, problem-solving, and adherence to ethical standards. These roles impact the health, safety, and well-being of populations, often requiring lifelong learning to keep up with medical advancements.",
    roles: ["Nurse","Physiotherapist","Public Health Specialist","Clinical Psychologist","Health Coach"],
    skills: ["Patient care","Health sciences knowledge","Empathy","Clinical protocols","Communication"],
    education: "Often requires professional degrees and licensing (e.g., nursing, medicine, physiotherapy); allied health roles may require certificates or diplomas.",
    salary: "Entry: ~$15k–35k, Mid: ~$35k–70k, Senior/Clinical Lead: ~$70k+ (USD; depends on country and public vs private sector).",
    growth: "Strong — aging populations and public health needs keep demand high, plus growth in telehealth and wellness sectors.",
    tools: ["Electronic Health Records (EHR) systems","Clinical assessment tools","Telehealth platforms","Statistical tools for public health"],
    hiring_keywords: ["nurse","physiotherapist","public health","clinical psychologist","healthcare assistant"],
    sample_courses: [
      "Foundations of Global Health (Coursera)",
      "Clinical skills / nursing diplomas (local providers)",
      "Mental Health courses (edX, Coursera)"
    ],
    day_in_life: [
      "Assessing and treating patients or clients with care plans.",
      "Documenting clinical notes and coordinating with multidisciplinary teams.",
      "Administering therapies or running community health programmes.",
      "Continuing education and compliance with health regulations."
    ]
  },

  "Human Resources & Education": {
    desc: "Human Resources & Education careers focus on guiding, teaching, mentoring, and supporting individuals and organizations. Professionals develop talent, manage people, resolve conflicts, and deliver educational programs or counseling. The roles demand strong interpersonal skills, empathy, communication, and organizational abilities. Work environments include schools, universities, corporate HR departments, training organizations, or community services. These careers impact employee satisfaction, learning outcomes, and societal growth.",
    roles: ["Teacher / Lecturer","HR Generalist","Counselor","Training & Development Specialist","Social Worker"],
    skills: ["Interpersonal skills","Counseling","Training design","Conflict resolution","Communication"],
    education: "Degrees in Education, Psychology or HR common; certifications (TEFL, SHRM, CIPD) help for specific paths.",
    salary: "Entry: ~$12k–30k, Mid: ~$30k–60k, Senior/Manager: ~$60k+ (USD; varies by country and sector).",
    growth: "Steady — demand for educators and HR professionals continues, with increased focus on L&D and employee wellbeing.",
    tools: ["LMS (Moodle / Canvas)","HRIS (Workday, BambooHR)","Zoom / eLearning tools","Survey platforms"],
    hiring_keywords: ["teacher","lecturer","hr generalist","training specialist","counselor","learning and development"],
    sample_courses: [
      "Instructional Design (Coursera)",
      "HR Management (Coursera / LinkedIn Learning)",
      "Counseling Skills courses (local or online providers)"
    ],
    day_in_life: [
      "Planning lessons or training sessions and supporting learners or employees.",
      "Conducting interviews, onboarding and employee relations tasks (HR roles).",
      "Providing counseling or support and documenting outcomes.",
      "Coordinating with stakeholders and continuous improvement."
    ]
  }
};

const DOMAIN_ICONS = {
  "Technology & Programming": `<i class="fa-solid fa-laptop-code text-gray-800 mb-2" style="font-size:40px;"></i>`,

  "Research & Science": `<i class="fa-solid fa-flask text-gray-800 mb-2" style="font-size:40px;"></i>`,

  "Creative Arts & Design": `<i class="fa-solid fa-paint-brush text-gray-800 mb-2" style="font-size:40px;"></i>`,

  "Business & Management": `<i class="fa-solid fa-briefcase text-gray-800 mb-2" style="font-size:40px;"></i>`,

  "Healthcare & Wellness": `<i class="fa-solid fa-heart-pulse text-gray-800 mb-2" style="font-size:40px;"></i>`,

  "Human Resources & Education": `<i class="fa-solid fa-user-graduate text-gray-800 mb-2" style="font-size:40px;"></i>`,

  "Mathematics & Exact Sciences": `<i class="fa-solid fa-square-root-variable text-gray-800 mb-2" style="font-size:40px;"></i>`
};



  /* --- render top3 cards and other list --- */
  let lastMapped = [];
  function renderCards(mapped) {
    lastMapped = mapped;
    const top3 = mapped.slice(0,3);
    const other = mapped.slice(3);

    const container = document.getElementById('cards');
    container.innerHTML = '';
   top3.forEach(item => {
  const card = document.createElement('div');
  card.className = 'domain-card bg-white p-6 rounded-lg shadow flex flex-col items-center justify-center';
   const icon = DOMAIN_ICONS[item.domain] || `<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="mb-2 text-gray-800" viewBox="0 0 24 24"><path d="M12 2L15 8H9L12 2ZM12 22L15 16H9L12 22ZM2 12L8 15V9L2 12ZM22 12L16 15V9L22 12Z"/></svg>`;
  card.innerHTML = `
    ${icon}
      <h4 class="text-lg font-semibold text-gray-800">${item.domain}</h4>
      <div class="text-sm font-bold text-gray-600 mt-1"></div>
  `;
  card.onclick = () => showDetails(item.domain, item.pct);
  container.appendChild(card);
});


    // render other list
    const otherList = document.getElementById('other-list');
    otherList.innerHTML = '';
    other.forEach(item => {
      const div = document.createElement('div');
      div.className = 'other-item flex items-center justify-between';
      div.innerHTML = `<div>${item.domain}</div><div class="small-pct">${item.pct}%</div>`;
      div.onclick = () => showDetails(item.domain, item.pct);
      otherList.appendChild(div);
    });

    // if no other items, show a friendly message
    const otherContainer = document.getElementById('other-container');
    const toggleBtn = document.getElementById('toggle-others');
    if (other.length === 0) {
      otherContainer.style.display = 'none';
      toggleBtn.style.display = 'none';
    } else {
      toggleBtn.style.display = 'inline-block';
      // default hidden
      otherContainer.style.display = 'none';
      toggleBtn.textContent = 'Show all';
    }
  }

  function toggleOthers() {
    const container = document.getElementById('other-container');
    const btn = document.getElementById('toggle-others');
    if (container.style.display === 'none' || container.style.display === '') {
      container.style.display = 'block';
      btn.textContent = 'Hide others';
    } else {
      container.style.display = 'none';
      btn.textContent = 'Show all';
    }
  }

  function showDetails(domain, pct) {
  // Get the main panel and update title & description
  const panel = document.getElementById('detail-panel');
  const title = document.getElementById('detail-title');
  const desc = document.getElementById('detail-desc');

  title.textContent = `${domain}`;
  desc.textContent = DOMAIN_INFO[domain]?.desc || "No description available.";

  // Populate roles
  const rolesList = document.getElementById('detail-roles');
  rolesList.innerHTML = ''; // clear previous entries
  if (DOMAIN_INFO[domain]?.roles) {
    DOMAIN_INFO[domain].roles.forEach(role => {
      const li = document.createElement('li');
      li.textContent = role;
      rolesList.appendChild(li);
    });
  }

  // Populate skills
  const skillsList = document.getElementById('detail-skills');
  skillsList.innerHTML = ''; // clear previous entries
  if (DOMAIN_INFO[domain]?.skills) {
    DOMAIN_INFO[domain].skills.forEach(skill => {
      const li = document.createElement('li');
      li.textContent = skill;
      skillsList.appendChild(li);
    });
  }

  // Show the panel and scroll to it
  panel.classList.add('show');
  panel.scrollIntoView({ behavior: 'smooth', block: 'center' });
}


  function closeDetails() {
    document.getElementById('detail-panel').classList.remove('show');
  }


  function validateAnswers(answers) {
  // Ensure all 10 questions have an answer
  for (let i = 1; i <= totalQuestions; i++) {
    if (!answers['q' + i]) return false;
  }
  return true;
}

  /* --- calculateResult (client-side) --- */
  function calculateResult() {
    const answers = collectAnswers();
    if (!validateAnswers(answers)) { 
        alert('Please answer all questions.'); 
        return; 
    }
    const mapped = getDomainScores(answers); // sorted
    document.getElementById('questions').style.display = 'none';
    document.getElementById('prev-btn').style.display = 'none';
    document.getElementById('next-btn').style.display = 'none';
    document.getElementById('submit-btn').style.display = 'none';
    document.getElementById('result').style.display = 'block';
    renderCards(mapped);
    closeDetails();

    // optional: you can capture the current-class answer (q7) and send it to server
    // console.log('Current class:', answers.q7);
}


  function resetQuiz() {
    currentQuestionIndex = 0;
    document.querySelectorAll('input[type="radio"]').forEach(r => r.checked = false);
    questions.forEach((q, i) => i === 0 ? q.classList.add('active') : q.classList.remove('active'));
    document.getElementById('progress').style.width = '0%';
    document.getElementById('question-number').textContent = '1';
    document.getElementById('result').style.display = 'none';
    document.getElementById('questions').style.display = 'block';
    document.querySelector('.flex.justify-between').style.display = 'flex';
    closeDetails(); updateButtons();
  }
</script>
</body>
</html>
